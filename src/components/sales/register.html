<div class="bg-white rounded-lg shadow-sm p-6 max-w-xl mx-auto">
    <h2 class="text-lg font-semibold text-gray-800 mb-4">Registrar Nueva Venta</h2>
    <form id="addProductForm" class="space-y-4 mb-6">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Producto</label>
            <input list="productos" name="producto" id="productoInput"
                class="w-full border border-gray-300 rounded-lg px-3 py-2" placeholder="Buscar producto..." required>
            <datalist id="productos">
                <option value="Maceta Plástica 10cm">
                <option value="Fertilizante Líquido 1L">
                <option value="Sustrato Universal 5kg">
                <option value="Planta Suculenta">
                <option value="Maceta Cerámica 15cm">
            </datalist>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Cantidad</label>
            <input type="number" min="1" name="cantidad" id="cantidadInput"
                class="w-full border border-gray-300 rounded-lg px-3 py-2" value="1" required>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Precio unitario</label>
            <input type="number" step="0.01" min="0" name="precio" id="precioInput"
                class="w-full border border-gray-300 rounded-lg px-3 py-2" required>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Descuento (%)</label>
            <input type="number" step="0.01" min="0" max="100" name="descuento" id="descuentoInput"
                class="w-full border border-gray-300 rounded-lg px-3 py-2" value="0">
        </div>
        <button type="submit"
            class="w-full bg-indigo-600 text-white py-1.5 px-3 md:py-2 md:px-4 rounded-lg hover:bg-indigo-700 font-semibold text-xs md:text-sm">
            Agregar producto
        </button>
    </form>

    <!-- Carrito de productos -->
    <div id="carritoContainer" class="mb-6 hidden">
        <h3 class="text-md font-semibold text-gray-800 mb-2">Productos en la venta</h3>
        <table class="min-w-full divide-y divide-gray-200 mb-2">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-2 py-2 text-xs text-gray-500">Producto</th>
                    <th class="px-2 py-2 text-xs text-gray-500">Cantidad</th>
                    <th class="px-2 py-2 text-xs text-gray-500">Precio</th>
                    <th class="px-2 py-2 text-xs text-gray-500">Desc.</th>
                    <th class="px-2 py-2 text-xs text-gray-500">Subtotal</th>
                    <th class="px-2 py-2"></th>
                </tr>
            </thead>
            <tbody id="carritoBody" class="bg-white divide-y divide-gray-200"></tbody>
        </table>
        <div class="text-right font-semibold text-indigo-700">Total: $<span id="carritoTotal">0.00</span></div>
    </div>

    <!-- Datos de la venta -->
    <form id="finalSaleForm" class="space-y-4">
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Fecha</label>
            <input type="date" name="fecha" class="w-full border border-gray-300 rounded-lg px-3 py-2" required>
        </div>
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Cliente (opcional)</label>
            <input type="text" name="cliente" class="w-full border border-gray-300 rounded-lg px-3 py-2"
                placeholder="Nombre del cliente">
        </div>
        <button type="submit"
            class="w-full bg-green-600 text-white py-1.5 px-3 md:py-2 md:px-4 rounded-lg hover:bg-green-700 font-semibold text-xs md:text-sm">
            Registrar Venta
        </button>
    </form>
    <div id="salesRegisterSuccess" class="mt-4 hidden text-green-600 font-semibold">
        ¡Venta registrada con éxito!
    </div>
</div>

<script type="module" src="../../js/sales-register.js"></script>